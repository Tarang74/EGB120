%%% Packages

%% Math enhancements

\usepackage{amsmath} % Misc enhancements to math equations
\usepackage{cancel} % Draw diagonal lines and arrows in math equations
\usepackage{mathtools} % Starred versions of amsmath matrix environments; Multiline, cases, gathered environment

%% Sybmols 

\usepackage{amssymb} % Extended symbol collection - also loads amsfonts
\usepackage{steinmetz} % Electronics notation

%% Fonts

\usepackage{mathrsfs}

%% Environments 

\usepackage{amsthm} % Use theorems

%% Tables and arrays

\usepackage{booktabs} % Top and bottom rule for tabular
\usepackage{tabularx} % Advanced Tables

%% Lists

\usepackage{enumitem} % Itemize, enumerate, description environments

%% Page layout

\usepackage{fancyhdr} % Page headers and footers
\usepackage{float} % Float objects such as figures and tables
\usepackage{geometry} % Page layout customisation
\usepackage{marginnote} % Add text in margins

%% Text enchancements

\usepackage[none]{hyphenat} % Disable hyphenation of long text
\usepackage{ragged2e} % Text alignment options

%% Referencing

\usepackage{tocbibind} % Adds bibliography to the Table of Contents
\usepackage{url} % Define urls

%% Graphics

\usepackage{graphicx} % Extension to graphics 
\graphicspath{ {./figures/} }

%% Miscellaneous

\usepackage{listings} % Typeset programming code 
\usepackage{siunitx} % SI units package
\usepackage{physics} % Vectors/derivatives/operators
% \usepackage[dvipsnames]{xcolor} % Extension to color package
\usepackage{pdfpages} % Import PDFs into document

\usepackage[hidelinks]{hyperref} % Handle cross-referencing
\usepackage{bookmark} % New bookmark organisation for hyperref

%% Unicode setup

\usepackage[warnings-off={mathtools-colon, mathtools-overbracket}]{unicode-math}
\setmathfont{Latin Modern Math}
\setmathfont{TeX Gyre Pagella Math}[range={bb,bbit}, Scale=MatchUppercase]
\setmathfont[range={\mathcal,\mathbfcal},StylisticSet=1]{XITS Math}

%%% Preamble 

%% Misc Commands

\newcommand{\e}{e}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\let\exp\relax
\DeclareMathOperator{\exp}{exp}

%% Hyperbolic Functions

\DeclareMathOperator{\arcsinh}{arcsinh}
\DeclareMathOperator{\arccosh}{arccosh}
\DeclareMathOperator{\arctanh}{arctanh}
\DeclareMathOperator{\arccoth}{arccoth}
\DeclareMathOperator{\arcsech}{arcsech}
\DeclareMathOperator{\arccsch}{arccsch}

%% Linear Algebra

\newcommand*{\vertbar}{\rule[-1ex]{0.5pt}{2.5ex}}
\newcommand*{\horzbar}{\rule[.5ex]{2.5ex}{0.5pt}}

\let\det\relax
\DeclareMathOperator{\det}{det}
\let\tr\relax
\DeclareMathOperator{\tr}{Tr}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\adj}{adj}

\DeclareMathOperator{\vref}{ref}
\DeclareMathOperator{\vrref}{rref}

\DeclareMathOperator{\vnull}{null}

\DeclareMathOperator{\proj}{proj}

\DeclareMathOperator{\vim}{im}
\DeclareMathOperator{\vcoim}{coim}
\DeclareMathOperator{\vker}{ker}
\DeclareMathOperator{\vcoker}{coker}

\newcommand{\columnspace}[1]{\func{\mathcal{C}}{\symbfit{#1}}}
\newcommand{\rowspace}[1]{\func{\mathcal{C}}{\symbfit{#1}^{\top}}}
\newcommand{\nullspace}[1]{\func{\mathcal{N}}{\symbfit{#1}}}
\newcommand{\leftnullspace}[1]{\func{\mathcal{N}}{\symbfit{#1}^{\top}}}

%% Laplace Transform

\newcommand{\laplace}[2]{\char"2112 \left\{{#1}\right\} \left({#2}\right)}
\newcommand{\invlaplace}[2]{\char"2112^{-1} \left\{{#1}\right\} \left({#2}\right)}

%% Fourier Transform

\newcommand{\fourier}[2]{\char"2131 \left\{{#1}\right\} \left({#2}\right)}
\newcommand{\invfourier}[2]{\char"2131^{-1} \left\{{#1}\right\} \left({#2}\right)}

%% Theorems

\theoremstyle{definition}
\newtheorem{definition}{Definition}[subsection]

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{corollary}{Corollary}[theorem]

\newtheorem{axiom}{Axiom}
\newtheorem*{remark}{Remark}

\newenvironment{solution}[1][Solution]{\proof[#1]\mbox{}\\*}{\endproof}
\newenvironment{solutionF}[1][Solution]{\proof[#1]\mbox{}}{\endproof}

\newenvironment{proofcase}[1]{\proof[Case #1]\mbox{}}{\endproof}
